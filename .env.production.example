# ===================================
# Production Environment Configuration
# ===================================
# Copy this file to .env and fill in your production values

# ===================================
# üîë OpenAI Configuration
# ===================================
# Optional: Users can provide their own keys via UI
# Set this as fallback for users without their own keys
OPENAI_API_KEY=sk-proj-your-production-key-here
OPENAI_MODEL=gpt-4o-mini
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# ===================================
# üåê CORS & Security
# ===================================
# Comma-separated list of allowed origins
# Example: https://your-frontend.vercel.app,https://your-domain.com
ALLOWED_ORIGINS=https://your-frontend.railway.app,https://your-frontend.vercel.app,http://localhost:3000

# ===================================
# üóÑÔ∏è PostgreSQL (Main Database)
# ===================================
# Railway provides these automatically, but you can override
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your-secure-password-here
POSTGRES_DB=rag_database
POSTGRES_HOST=postgres.railway.internal
POSTGRES_PORT=5432

# ===================================
# üìä PGVector (Embeddings Database)
# ===================================
PGVECTOR_HOST=pgvector.railway.internal
PGVECTOR_PORT=5432
PGVECTOR_DB=vector_db

# ===================================
# üï∏Ô∏è Neo4j (Knowledge Graph)
# ===================================
NEO4J_HOST=neo4j.railway.internal
NEO4J_PORT=7687
NEO4J_AUTH=neo4j/your-secure-password-here
NEO4J_HTTP_PORT=7474

# ===================================
# üîç Elasticsearch (Search)
# ===================================
ELASTICSEARCH_HOST=elasticsearch.railway.internal
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_INDEX_NAME=rag_documents

# ===================================
# üíæ Redis (Caching)
# ===================================
REDIS_HOST=redis.railway.internal
REDIS_PORT=6379

# ===================================
# üìÅ Storage Configuration
# ===================================
STORAGE_PATH=/app/storage

# ===================================
# üöÄ Performance Settings
# ===================================
# Run all search tools in parallel (true/false)
MAX_PERFORMANCE=false

# Enable 3-pass GraphRAG enrichment (true/false)
GRAPHRAG_ENABLED=true
GRAPHRAG_ENABLE_MULTIPASS=true
GRAPHRAG_LLM_MODEL=gpt-4o-mini
GRAPHRAG_EMBEDDING_MODEL=text-embedding-3-small
GRAPHRAG_CONCURRENCY=25
GRAPHRAG_MAX_RETRIES=3
GRAPHRAG_NUM_PASSES=3

# Entity deduplication and refinement
ENABLE_ENTITY_DEDUPLICATION=true
ENTITY_SIMILARITY_THRESHOLD=0.85

# ===================================
# üîç Search Configuration
# ===================================
ENABLE_VECTOR_SEARCH=true
ENABLE_GRAPH_SEARCH=true
ENABLE_FILTER_SEARCH=true
DEFAULT_SEARCH_TOOLS=auto

# ===================================
# üìÑ RAG Settings
# ===================================
CHUNK_SIZE=1200
CHUNK_OVERLAP=500
TOP_K_RESULTS=20

# ===================================
# üß† Memory Management
# ===================================
MEMORY_ENABLED=true
MEMORY_DB_HOST=postgres.railway.internal
MEMORY_DB_PORT=5432
MEMORY_DB_NAME=rag_database
MEMORY_DB_USER=postgres
MEMORY_DB_PASSWORD=your-secure-password-here
MEMORY_APPROACH=external_llm
MEMORY_MODEL=gpt-4o-mini
MEMORY_SESSION_ID=default_session

# ===================================
# üéõÔ∏è Frontend Configuration
# ===================================
FRONTEND_PORT=3000
BACKEND_PORT=8000

# For React App (frontend/.env.production)
# REACT_APP_API_URL=https://your-backend.railway.app
